<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Death Clock - 죽음의 시계</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e1e1e, #2d2d2d);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        .header {
            margin-bottom: 30px;
        }

        .title {
            font-size: 2.5em;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .current-time {
            font-size: 1.2em;
            opacity: 0.8;
            color: #cccccc;
        }

        .input-section {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .label {
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #ffffff;
        }

        .date-input {
            background: rgba(255,255,255,0.2);
            border: 2px solid #ff6b6b;
            border-radius: 8px;
            padding: 15px;
            font-size: 1em;
            color: #ffffff;
            width: 100%;
            max-width: 200px;
        }

        .countdown-container {
            background: rgba(255,255,255,0.05);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,107,107,0.3);
        }

        .countdown-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 20px;
        }

        .time-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .time-item {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(255,107,107,0.2);
        }

        .time-number {
            font-size: 2em;
            font-weight: bold;
            color: #4ecdc4;
            display: block;
            margin-bottom: 8px;
        }

        .time-label {
            font-size: 0.9em;
            color: #cccccc;
            opacity: 0.8;
        }

        .settings {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .setting-button {
            background: rgba(255,255,255,0.1);
            border: 2px solid #ff6b6b;
            color: #ffffff;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .setting-button:hover {
            background: rgba(255,107,107,0.2);
            transform: translateY(-2px);
        }

        @media (max-width: 600px) {
            .title {
                font-size: 2em;
            }

            .time-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .time-number {
                font-size: 1.5em;
            }
        }

        /* Light theme */
        body.light-theme {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            color: #333333;
        }

        body.light-theme .title {
            color: #dc3545;
        }

        body.light-theme .current-time {
            color: #666666;
        }

        body.light-theme .input-section {
            background: rgba(0,0,0,0.05);
        }

        body.light-theme .date-input {
            background: rgba(0,0,0,0.05);
            border-color: #dc3545;
            color: #333333;
        }

        body.light-theme .countdown-container {
            background: rgba(0,0,0,0.02);
            border-color: rgba(220,53,69,0.3);
        }

        body.light-theme .countdown-title {
            color: #dc3545;
        }

        body.light-theme .time-item {
            background: rgba(0,0,0,0.05);
            border-color: rgba(220,53,69,0.2);
        }

        body.light-theme .time-number {
            color: #17a2b8;
        }

        body.light-theme .time-label {
            color: #666666;
        }

        body.light-theme .setting-button {
            background: rgba(0,0,0,0.05);
            border-color: #dc3545;
            color: #333333;
        }

        body.light-theme .setting-button:hover {
            background: rgba(220,53,69,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">Death Clock</h1>
            <div class="current-time" id="currentTime"></div>
        </div>

        <div class="input-section">
            <div class="label">생년월일</div>
            <input type="date" class="date-input" id="birthDate" value="1990-01-01">
        </div>

        <div class="countdown-container">
            <h2 class="countdown-title">예상 남은 시간</h2>
            <div class="time-grid">
                <div class="time-item">
                    <span class="time-number" id="years">0</span>
                    <div class="time-label">년</div>
                </div>
                <div class="time-item">
                    <span class="time-number" id="days">0</span>
                    <div class="time-label">일</div>
                </div>
                <div class="time-item">
                    <span class="time-number" id="hours">0</span>
                    <div class="time-label">시간</div>
                </div>
                <div class="time-item">
                    <span class="time-number" id="minutes">0</span>
                    <div class="time-label">분</div>
                </div>
                <div class="time-item">
                    <span class="time-number" id="seconds">0</span>
                    <div class="time-label">초</div>
                </div>
            </div>
        </div>

        <div class="settings">
            <button class="setting-button" id="themeToggle">라이트 모드</button>
            <button class="setting-button" id="timeFormatToggle">12시간 형식</button>
        </div>
    </div>

    <script>
        class DeathClock {
            constructor() {
                this.birthDate = new Date('1990-01-01');
                this.isDarkTheme = true;
                this.is24HourFormat = true;
                this.lifeExpectancy = 80;

                this.initializeElements();
                this.bindEvents();
                this.startTimer();
                this.updateCountdown();
            }

            initializeElements() {
                this.birthDateInput = document.getElementById('birthDate');
                this.currentTimeElement = document.getElementById('currentTime');
                this.yearsElement = document.getElementById('years');
                this.daysElement = document.getElementById('days');
                this.hoursElement = document.getElementById('hours');
                this.minutesElement = document.getElementById('minutes');
                this.secondsElement = document.getElementById('seconds');
                this.themeToggle = document.getElementById('themeToggle');
                this.timeFormatToggle = document.getElementById('timeFormatToggle');
            }

            bindEvents() {
                this.birthDateInput.addEventListener('change', (e) => {
                    this.birthDate = new Date(e.target.value);
                    this.updateCountdown();
                });

                this.themeToggle.addEventListener('click', () => {
                    this.toggleTheme();
                });

                this.timeFormatToggle.addEventListener('click', () => {
                    this.toggleTimeFormat();
                });
            }

            startTimer() {
                setInterval(() => {
                    this.updateCurrentTime();
                    this.updateCountdown();
                }, 1000);

                this.updateCurrentTime();
            }

            updateCurrentTime() {
                const now = new Date();
                const timeString = this.is24HourFormat
                    ? now.toLocaleTimeString('ko-KR', { hour12: false })
                    : now.toLocaleTimeString('ko-KR', { hour12: true });

                this.currentTimeElement.textContent = timeString;
            }

            calculateRemainingTime() {
                const now = new Date();
                const currentYear = now.getFullYear();
                const birthYear = this.birthDate.getFullYear();
                const age = currentYear - birthYear;

                const totalLifeSeconds = this.lifeExpectancy * 365.25 * 24 * 60 * 60;
                const livedSeconds = age * 365.25 * 24 * 60 * 60;
                const remainingSeconds = Math.max(0, totalLifeSeconds - livedSeconds);

                return {
                    years: Math.floor(remainingSeconds / (365.25 * 24 * 60 * 60)),
                    days: Math.floor((remainingSeconds % (365.25 * 24 * 60 * 60)) / (24 * 60 * 60)),
                    hours: Math.floor((remainingSeconds % (24 * 60 * 60)) / (60 * 60)),
                    minutes: Math.floor((remainingSeconds % (60 * 60)) / 60),
                    seconds: Math.floor(remainingSeconds % 60)
                };
            }

            updateCountdown() {
                const remaining = this.calculateRemainingTime();

                this.yearsElement.textContent = remaining.years.toLocaleString();
                this.daysElement.textContent = remaining.days;
                this.hoursElement.textContent = remaining.hours;
                this.minutesElement.textContent = remaining.minutes;
                this.secondsElement.textContent = remaining.seconds;
            }

            toggleTheme() {
                this.isDarkTheme = !this.isDarkTheme;

                if (this.isDarkTheme) {
                    document.body.classList.remove('light-theme');
                    this.themeToggle.textContent = '라이트 모드';
                } else {
                    document.body.classList.add('light-theme');
                    this.themeToggle.textContent = '다크 모드';
                }
            }

            toggleTimeFormat() {
                this.is24HourFormat = !this.is24HourFormat;
                this.timeFormatToggle.textContent = this.is24HourFormat ? '12시간 형식' : '24시간 형식';
                this.updateCurrentTime();
            }
        }

        // Initialize the Death Clock when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new DeathClock();
        });
    </script>
</body>
</html>